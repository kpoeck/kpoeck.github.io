<!DOCTYPE html> <html lang="EN"> <head> <meta charset="utf-8"> <title>Mp</title> <style>html body{margin:0 auto 0 auto;padding:20px;max-width:1024px;font-family:sans-serif;font-size:14pt;overflow-y:scroll;}html body a{text-decoration:none;}html body a[href]{color:#0055AA;}html body a[href]:hover{color:#0088EE;}html body pre{background:#FAFAFA;border:1px solid #DDDDDD;padding:0.75em;overflow-x:auto;}html body pre >code a[href]{color:#223388;}article.project h1{font-size:1.7em;}article.project h1,article.project h2,article.project h3,article.project h4,article.project h5,article.project h6{margin:0.2em 0 0.1em 0;text-indent:1em;}article.project >header{text-align:center;}article.project >header img.logo{display:block;margin:auto;max-height:170px;}article.project >header h1{display:inline-block;text-indent:0;font-size:2.5em;}article.project >header .version{vertical-align:bottom;}article.project >header .languages{margin-top:-0.5em;text-transform:capitalize;}article.project >header .description{margin:0;}article.project >header .pages{margin-top:0.5em;font-size:1.2em;text-transform:capitalize;}article.project >header .pages a{display:inline-block;padding:0 0.2em;}article.project >section{margin:1em 0 1em 0;}article.project #index >ul{list-style:none;margin:0;padding:0;}article.project .row label{display:inline-block;min-width:8em;}article.project #system .row{display:flex;}article.project #system #dependencies{display:inline;margin:0;padding:0;}article.project #system #dependencies li{display:inline;padding:0 0.2em;}article.definition{margin:1em 0 0 0;}article.definition >header h1,article.definition >header h2,article.definition >header h3,article.definition >header h4,article.definition >header h5,article.definition >header h6{text-indent:0;display:inline-block;}article.definition >header ul{display:inline-block;list-style:none;margin:0;padding:0;}article.definition >header ul li{display:inline-block;padding:0 0.2em 0 0;}article.definition >header .visibility{display:none;}article.definition >header .visibility,article.definition >header .type{text-transform:lowercase;}article.definition >header .source-link{visibility:hidden;float:right;}article.definition >header .source-link:after{visibility:visible;content:"[SRC]";}article.definition .docstring{margin:0 0 0 1em;}article.definition .docstring pre{font-size:0.8em;white-space:pre-wrap;}.definition.package >header ul.nicknames{display:inline-block;list-style:none;margin:0;padding:0 0 0 1em;}.definition.package >header ul.nicknames li{display:inline;}.definition.package >header ul.nicknames:before{content:"(";}.definition.package >header ul.nicknames:after{content:")";}.definition.package ul.definitions{margin:0;list-style:none;padding:0 0 0 0.5em;}.definition.callable >header .name:before,.definition.type >header .name:before{content:"(";font-weight:normal;}.definition.callable >header .arguments:after,.definition.type >header .arguments:after{content:")";}.definition.callable >header .arguments .arguments:before,.definition.type >header .arguments .arguments:before{content:"(";}.definition.callable >header .arguments .argument,.definition.type >header .arguments .argument{padding:0;}.definition.callable >header .arguments .argument.lambda-list-keyword,.definition.type >header .arguments .argument.lambda-list-keyword{color:#991155;}.definition li>mark{background:none;border-left:0.3em solid #0088EE;padding-left:0.3em;display:block;} </style> </head> <body> <article class="project"> <header>  <h1>MP</h1>  <nav class="languages">            </nav>  <nav class="pages">            </nav> </header> <section id="documentation"> </section>   <section id="index"> <h2>Definition Index</h2> <ul> <li> <article class="definition package" id="PACKAGE MP"> <header> <h3> <a href="#PACKAGE%20MP">MP</a> </h3> <ul class="nicknames"></ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> <ul class="definitions"> <li> <article class="definition special-variable" id="VARIABLE MP:*CURRENT-PROCESS*"> <header> <span class="visibility">EXTERNAL</span> <span class="type">SPECIAL-VARIABLE</span> <h4 class="name"> <a href="#VARIABLE%20MP%3A%2ACURRENT-PROCESS%2A">*CURRENT-PROCESS*</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition class" id="CLASS MP:CONDITION-VARIABLE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CLASS</span> <h4 class="name"> <a href="#CLASS%20MP%3ACONDITION-VARIABLE">CONDITION-VARIABLE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition class" id="CLASS MP:MUTEX"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CLASS</span> <h4 class="name"> <a href="#CLASS%20MP%3AMUTEX">MUTEX</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition class" id="CLASS MP:PROCESS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CLASS</span> <h4 class="name"> <a href="#CLASS%20MP%3APROCESS">PROCESS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition class" id="CLASS MP:RECURSIVE-MUTEX"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CLASS</span> <h4 class="name"> <a href="#CLASS%20MP%3ARECURSIVE-MUTEX">RECURSIVE-MUTEX</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition class" id="CLASS MP:SHARED-MUTEX"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CLASS</span> <h4 class="name"> <a href="#CLASS%20MP%3ASHARED-MUTEX">SHARED-MUTEX</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition condition" id="CONDITION MP:PROCESS-ERROR"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CONDITION</span> <h4 class="name"> <a href="#CONDITION%20MP%3APROCESS-ERROR">PROCESS-ERROR</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  </header> <div class="docstring"><pre>Superclass of errors relating to processes.</pre></div> </article> </li>  <li> <article class="definition condition" id="CONDITION MP:PROCESS-JOIN-ERROR"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CONDITION</span> <h4 class="name"> <a href="#CONDITION%20MP%3APROCESS-JOIN-ERROR">PROCESS-JOIN-ERROR</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  </header> <div class="docstring"><pre>PROCESS-JOIN signals a condition of this type when the thread being joined ended abnormally.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MP:%ABORT-PROCESS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MP%3A%25ABORT-PROCESS">%ABORT-PROCESS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">MAYBE-CONDITION</li>  </ul>  <a class="source-link" href="file:///Users/karstenpoeck/lisp/compiler/clasp-karsten/src/core/mpPackage.cc#492:1">Source</a>  </header> <div class="docstring"><pre>Internal function; use ABORT-PROCESS instead.
Immediately end the current process abnormally. If PROCESS-JOIN is called on this process thereafter, it will signal an error of type PROCESS-JOIN-ERROR with the given condition (or NIL) attached.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MP:ABORT-PROCESS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MP%3AABORT-PROCESS">ABORT-PROCESS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">DATUM</li>    <li class="argument lambda-list-keyword">&amp;REST</li>    <li class="argument">ARGUMENTS</li>  </ul>  <a class="source-link" href="file:///Users/karstenpoeck/lisp/compiler/clasp-karsten/src/lisp/kernel/lsp/mp.lsp#148:0">Source</a>  </header> <div class="docstring"><pre>Immediately end the current process abnormally.
If PROCESS-JOIN is called on this process thereafter, it will signal an error of type PROCESS-JOIN-ERROR.
If DATUM is provided, it and ARGUMENTS designate a condition of default type SIMPLE-ERROR. This condition will be attached to the PROCESS-JOIN-ERROR.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MP:ALL-PROCESSES"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MP%3AALL-PROCESSES">ALL-PROCESSES</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="file:///Users/karstenpoeck/lisp/compiler/clasp-karsten/src/core/mpPackage.cc#381:1">Source</a>  </header> <div class="docstring"><pre>Return a list of all processes that have been enabled and have not yet exited, i.e. all active and suspended processes.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MP:CHECK-PENDING-INTERRUPTS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MP%3ACHECK-PENDING-INTERRUPTS">CHECK-PENDING-INTERRUPTS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="file:///Users/karstenpoeck/lisp/compiler/clasp-karsten/src/core/mpPackage.cc#572:1">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MP:CONDITION-VARIABLE-BROADCAST"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MP%3ACONDITION-VARIABLE-BROADCAST">CONDITION-VARIABLE-BROADCAST</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">CV</li>  </ul>  <a class="source-link" href="file:///Users/karstenpoeck/lisp/compiler/clasp-karsten/src/core/mpPackage.cc#546:1">Source</a>  </header> <div class="docstring"><pre>Notify all threads currently waiting on the given condition variable. If no threads are waiting on it, there is no effect. Return no values.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MP:CONDITION-VARIABLE-NAME"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MP%3ACONDITION-VARIABLE-NAME">CONDITION-VARIABLE-NAME</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">THIS</li>  </ul>  <a class="source-link" href="file:///Users/karstenpoeck/lisp/compiler/clasp-karsten/include/clasp/core/mpPackage.h#302:1">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MP:CONDITION-VARIABLE-SIGNAL"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MP%3ACONDITION-VARIABLE-SIGNAL">CONDITION-VARIABLE-SIGNAL</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">CV</li>  </ul>  <a class="source-link" href="file:///Users/karstenpoeck/lisp/compiler/clasp-karsten/src/core/mpPackage.cc#541:1">Source</a>  </header> <div class="docstring"><pre>Notify at least one thread that is currently waiting on the given condition variable (i.e. wake it up). If no threads are waiting on it, there is no effect. Return no values.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MP:CONDITION-VARIABLE-TIMEDWAIT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MP%3ACONDITION-VARIABLE-TIMEDWAIT">CONDITION-VARIABLE-TIMEDWAIT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">CV</li>    <li class="argument">MUTEX</li>    <li class="argument">TIMEOUT_SECONDS</li>  </ul>  <a class="source-link" href="file:///Users/karstenpoeck/lisp/compiler/clasp-karsten/src/core/mpPackage.cc#535:1">Source</a>  </header> <div class="docstring"><pre>Like CONDITION-VARIABLE-WAIT, except that a timeout (in seconds) may be provided.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MP:CONDITION-VARIABLE-WAIT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MP%3ACONDITION-VARIABLE-WAIT">CONDITION-VARIABLE-WAIT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">CV</li>    <li class="argument">MUTEX</li>  </ul>  <a class="source-link" href="file:///Users/karstenpoeck/lisp/compiler/clasp-karsten/src/core/mpPackage.cc#530:1">Source</a>  </header> <div class="docstring"><pre>Wait on the given condition variable with the given mutex. In more detail: The mutex must already be held by this thread. Then, atomically, the mutex is released and this thread blocks on the condition variable (i.e. execution will not continue).

Later, the thread will resume and obtain the mutex again. Ideally this will be when the process is properly notified (see below), but occasionally the thread may resume spuriously, so make sure to check that the condition is actually true after this function returns.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MP:COPY-DEFAULT-SPECIAL-BINDINGS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MP%3ACOPY-DEFAULT-SPECIAL-BINDINGS">COPY-DEFAULT-SPECIAL-BINDINGS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="file:///Users/karstenpoeck/lisp/compiler/clasp-karsten/src/core/mpPackage.cc#563:1">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MP:EXIT-PROCESS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MP%3AEXIT-PROCESS">EXIT-PROCESS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument lambda-list-keyword">&amp;REST</li>    <li class="argument">VALUES</li>  </ul>  <a class="source-link" href="file:///Users/karstenpoeck/lisp/compiler/clasp-karsten/src/core/mpPackage.cc#482:1">Source</a>  </header> <div class="docstring"><pre>Immediately end the current process. The arguments to this function are returned from any PROCESS-JOIN calls with the current process as argument. Does not return.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MP:GET-CAS-EXPANSION"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MP%3AGET-CAS-EXPANSION">GET-CAS-EXPANSION</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">PLACE</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">ENV</li>  </ul>  <a class="source-link" href="file:///Users/karstenpoeck/lisp/compiler/clasp-karsten/src/lisp/kernel/lsp/cas.lsp#48:0">Source</a>  </header> <div class="docstring"><pre>Analogous to GET-SETF-EXPANSION. Returns the following six values:
* list of temporary variables, which will be bound as if by LET*
* list of forms, whose results will be bound to the variables
* variable for the old value of PLACE
* variable for the new value of PLACE
* A form to perform the swap, which can refer to the temporary variables
   and the variables for the old and new values
* A form to read a value from PLACE, which can refer to the temporary variables</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MP:GET-LOCK"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MP%3AGET-LOCK">GET-LOCK</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">MUTEX</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">WAITP</li>  </ul>  <a class="source-link" href="file:///Users/karstenpoeck/lisp/compiler/clasp-karsten/src/core/mpPackage.cc#505:1">Source</a>  </header> <div class="docstring"><pre>Try to obtain exclusion on the given mutex. If WAITP is true, this function will not return until exclusion is obtained.

Return true iff exclusion was obtained, otherwise false.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MP:GIVEUP-LOCK"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MP%3AGIVEUP-LOCK">GIVEUP-LOCK</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">MUTEX</li>  </ul>  <a class="source-link" href="file:///Users/karstenpoeck/lisp/compiler/clasp-karsten/src/core/mpPackage.cc#511:1">Source</a>  </header> <div class="docstring"><pre>Release exclusion on the given mutex. Return no values.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MP:INTERRUPT-PROCESS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MP%3AINTERRUPT-PROCESS">INTERRUPT-PROCESS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">PROCESS</li>    <li class="argument">FUNC</li>  </ul>  <a class="source-link" href="file:///Users/karstenpoeck/lisp/compiler/clasp-karsten/src/core/mpPackage.cc#466:1">Source</a>  </header> <div class="docstring"><pre>Interrupt the given process to make it call the given function with no arguments. Return no values.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MP:LOCK-COUNT"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MP%3ALOCK-COUNT">LOCK-COUNT</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">M</li>  </ul>  <a class="source-link" href="file:///Users/karstenpoeck/lisp/compiler/clasp-karsten/src/core/mpPackage.cc#519:1">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MP:LOCK-OWNER"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MP%3ALOCK-OWNER">LOCK-OWNER</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">M</li>  </ul>  <a class="source-link" href="file:///Users/karstenpoeck/lisp/compiler/clasp-karsten/src/core/mpPackage.cc#355:1">Source</a>  </header> <div class="docstring"><pre>Return the owner of the lock - this may be NIL if it's not locked.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MP:MAKE-CONDITION-VARIABLE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MP%3AMAKE-CONDITION-VARIABLE">MAKE-CONDITION-VARIABLE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">NAME</li>  </ul>  <a class="source-link" href="file:///Users/karstenpoeck/lisp/compiler/clasp-karsten/src/core/mpPackage.cc#525:1">Source</a>  </header> <div class="docstring"><pre>Make a new condition variable. The NAME argument is stored with the condition variable for debugging purposes.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MP:MAKE-LOCK"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MP%3AMAKE-LOCK">MAKE-LOCK</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument lambda-list-keyword">&amp;KEY</li>    <li class="argument">NAME</li>  </ul>  <a class="source-link" href="file:///Users/karstenpoeck/lisp/compiler/clasp-karsten/include/clasp/core/mpPackage.h#168:1">Source</a>  </header> <div class="docstring"><pre>Create and return a fresh mutex with the given name.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MP:MAKE-PROCESS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MP%3AMAKE-PROCESS">MAKE-PROCESS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NAME</li>    <li class="argument">FUNCTION</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">ARGUMENTS</li>    <li class="argument">SPECIAL_BINDINGS</li>    <li class="argument">STACK-SIZE</li>  </ul>  <a class="source-link" href="file:///Users/karstenpoeck/lisp/compiler/clasp-karsten/include/clasp/core/mpPackage.h#94:1">Source</a>  </header> <div class="docstring"><pre>Make and return a new process object. The new process is inactive; it can be started with PROCESS-ENABLE.

NAME is the name of the process for display purposes. FUNCTION is the function that the process should execute. ARGUMENTS is a list of arguments that will be passed to the function when the process is enabled; the default is NIL. SPECIAL-BINDINGS is an alist of (symbol . form): the forms will be evaluated in a null lexical environment, and their values bound to the symbols (as if by PROGV) when the process is started.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MP:MAKE-RECURSIVE-MUTEX"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MP%3AMAKE-RECURSIVE-MUTEX">MAKE-RECURSIVE-MUTEX</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">NAME</li>  </ul>  <a class="source-link" href="file:///Users/karstenpoeck/lisp/compiler/clasp-karsten/include/clasp/core/mpPackage.h#267:1">Source</a>  </header> <div class="docstring"><pre>Create and return a recursive mutex with the given name.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MP:MAKE-SHARED-MUTEX"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MP%3AMAKE-SHARED-MUTEX">MAKE-SHARED-MUTEX</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">NAME</li>  </ul>  <a class="source-link" href="file:///Users/karstenpoeck/lisp/compiler/clasp-karsten/include/clasp/core/mpPackage.h#214:1">Source</a>  </header> <div class="docstring"><pre>Create and return a fresh shared mutex with the given name.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MP:MUTEX-NAME"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MP%3AMUTEX-NAME">MUTEX-NAME</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">M</li>  </ul>  <a class="source-link" href="file:///Users/karstenpoeck/lisp/compiler/clasp-karsten/src/core/mpPackage.cc#499:1">Source</a>  </header> <div class="docstring"><pre>Return the name of the mutex, as provided at creation. The mutex may be normal or recursive.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MP:PROCESS-ACTIVE-P"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MP%3APROCESS-ACTIVE-P">PROCESS-ACTIVE-P</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">P</li>  </ul>  <a class="source-link" href="file:///Users/karstenpoeck/lisp/compiler/clasp-karsten/src/core/mpPackage.cc#397:1">Source</a>  </header> <div class="docstring"><pre>Return true iff the process is active, i.e. is currently executed. More specifically, this means it has been enabled and is not currently suspended.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MP:PROCESS-ENABLE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MP%3APROCESS-ENABLE">PROCESS-ENABLE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">PROCESS</li>  </ul>  <a class="source-link" href="file:///Users/karstenpoeck/lisp/compiler/clasp-karsten/src/core/mpPackage.cc#360:1">Source</a>  </header> <div class="docstring"><pre>Enable a process that has not yet been started, so that it begins executing.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MP:PROCESS-INITIAL-SPECIAL-BINDINGS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MP%3APROCESS-INITIAL-SPECIAL-BINDINGS">PROCESS-INITIAL-SPECIAL-BINDINGS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">P</li>  </ul>  <a class="source-link" href="file:///Users/karstenpoeck/lisp/compiler/clasp-karsten/src/core/mpPackage.cc#568:1">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MP:PROCESS-JOIN"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MP%3APROCESS-JOIN">PROCESS-JOIN</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">PROCESS</li>  </ul>  <a class="source-link" href="file:///Users/karstenpoeck/lisp/compiler/clasp-karsten/src/core/mpPackage.cc#452:1">Source</a>  </header> <div class="docstring"><pre>Wait for the given process to finish executing. If the process's function returns normally, those values are returned. If the process exited due to EXIT-PROCESS, the values provided to that function are returned. If the process was aborted by ABORT-PROCESS or a control transfer, an error of type PROCESS-JOIN-ERROR is signaled.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MP:PROCESS-KILL"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MP%3APROCESS-KILL">PROCESS-KILL</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">PROCESS</li>  </ul>  <a class="source-link" href="file:///Users/karstenpoeck/lisp/compiler/clasp-karsten/src/core/mpPackage.cc#475:1">Source</a>  </header> <div class="docstring"><pre>Force a process to end. This function is not intended for regular usage and is not reliable.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MP:PROCESS-NAME"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MP%3APROCESS-NAME">PROCESS-NAME</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">P</li>  </ul>  <a class="source-link" href="file:///Users/karstenpoeck/lisp/compiler/clasp-karsten/src/core/mpPackage.cc#386:1">Source</a>  </header> <div class="docstring"><pre>Return the name of a process, as provided at its creation.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MP:PROCESS-PHASE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MP%3APROCESS-PHASE">PROCESS-PHASE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">PROCESS</li>  </ul>  <a class="source-link" href="file:///Users/karstenpoeck/lisp/compiler/clasp-karsten/src/core/mpPackage.cc#350:1">Source</a>  </header> <div class="docstring"><pre>Current Phase of the process Inactive=0,Booting=1,Active=2,Suspended=3,Exiting=4</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MP:PROCESS-PHASE-STRING"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MP%3APROCESS-PHASE-STRING">PROCESS-PHASE-STRING</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">PROCESS</li>  </ul>  <a class="source-link" href="file:///Users/karstenpoeck/lisp/compiler/clasp-karsten/src/core/mpPackage.cc#345:1">Source</a>  </header> <div class="docstring"><pre>Current Phase of the process as String (Not yet started, Running, Suspended, Aborted, Completed)</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MP:PROCESS-RESUME"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MP%3APROCESS-RESUME">PROCESS-RESUME</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">PROCESS</li>  </ul>  <a class="source-link" href="file:///Users/karstenpoeck/lisp/compiler/clasp-karsten/src/core/mpPackage.cc#423:1">Source</a>  </header> <div class="docstring"><pre>Restart execution in a suspended process.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MP:PROCESS-RUN-FUNCTION"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MP%3APROCESS-RUN-FUNCTION">PROCESS-RUN-FUNCTION</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NAME</li>    <li class="argument">FUNCTION</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">SPECIAL_BINDINGS</li>  </ul>  <a class="source-link" href="file:///Users/karstenpoeck/lisp/compiler/clasp-karsten/src/core/mpPackage.cc#367:1">Source</a>  </header> <div class="docstring"><pre>Convenience function that creates a process and then immediately enables it. Arguments are as in MAKE-PROCESS; the ARGUMENTS parameter is always NIL.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MP:PROCESS-SUSPEND"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MP%3APROCESS-SUSPEND">PROCESS-SUSPEND</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">PROCESS</li>  </ul>  <a class="source-link" href="file:///Users/karstenpoeck/lisp/compiler/clasp-karsten/src/core/mpPackage.cc#415:1">Source</a>  </header> <div class="docstring"><pre>Stop a process from executing temporarily. Execution may be restarted with PROCESS-RESUME.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MP:PROCESS-YIELD"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MP%3APROCESS-YIELD">PROCESS-YIELD</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="file:///Users/karstenpoeck/lisp/compiler/clasp-karsten/src/core/mpPackage.cc#434:1">Source</a>  </header> <div class="docstring"><pre>Inform the scheduler that the current process doesn't need control for the moment. It may or may not use this information. Returns no values.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MP:PUSH-DEFAULT-SPECIAL-BINDING"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MP%3APUSH-DEFAULT-SPECIAL-BINDING">PUSH-DEFAULT-SPECIAL-BINDING</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">SYMBOL</li>    <li class="argument">FORM</li>  </ul>  <a class="source-link" href="file:///Users/karstenpoeck/lisp/compiler/clasp-karsten/src/core/mpPackage.cc#558:1">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MP:RECURSIVE-LOCK-P"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MP%3ARECURSIVE-LOCK-P">RECURSIVE-LOCK-P</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">M</li>  </ul>  <a class="source-link" href="file:///Users/karstenpoeck/lisp/compiler/clasp-karsten/src/core/mpPackage.cc#515:1">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MP:SHARED-LOCK"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MP%3ASHARED-LOCK">SHARED-LOCK</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">MUTEX</li>  </ul>  <a class="source-link" href="file:///Users/karstenpoeck/lisp/compiler/clasp-karsten/src/core/mpPackage.cc#284:1">Source</a>  </header> <div class="docstring"><pre>Obtain the shared lock for this mutex.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MP:SHARED-UNLOCK"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MP%3ASHARED-UNLOCK">SHARED-UNLOCK</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">MUTEX</li>  </ul>  <a class="source-link" href="file:///Users/karstenpoeck/lisp/compiler/clasp-karsten/src/core/mpPackage.cc#290:1">Source</a>  </header> <div class="docstring"><pre>Release the shared lock for this mutex.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MP:SUSPEND-LOOP"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MP%3ASUSPEND-LOOP">SUSPEND-LOOP</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="file:///Users/karstenpoeck/lisp/compiler/clasp-karsten/src/core/mpPackage.cc#404:1">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MP:THREAD-ID"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MP%3ATHREAD-ID">THREAD-ID</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">PROCESS</li>  </ul>  <a class="source-link" href="file:///Users/karstenpoeck/lisp/compiler/clasp-karsten/src/core/mpPackage.cc#391:1">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MP:WRITE-LOCK"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MP%3AWRITE-LOCK">WRITE-LOCK</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">MUTEX</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">UPGRADE</li>  </ul>  <a class="source-link" href="file:///Users/karstenpoeck/lisp/compiler/clasp-karsten/src/core/mpPackage.cc#266:1">Source</a>  </header> <div class="docstring"><pre>Obtain the write lock for this mutex. upgradep should be true if and only if this thread currently holds the shared lock for the same mutex.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MP:WRITE-TRY-LOCK"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MP%3AWRITE-TRY-LOCK">WRITE-TRY-LOCK</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">MUTEX</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">UPGRADE</li>  </ul>  <a class="source-link" href="file:///Users/karstenpoeck/lisp/compiler/clasp-karsten/src/core/mpPackage.cc#272:1">Source</a>  </header> <div class="docstring"><pre>Try to obtain the write lock for this mutex. If it cannot be obtained immediately, return false. Otherwise, return true.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MP:WRITE-UNLOCK"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MP%3AWRITE-UNLOCK">WRITE-UNLOCK</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">MUTEX</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">RELEASE_READ_LOCK</li>  </ul>  <a class="source-link" href="file:///Users/karstenpoeck/lisp/compiler/clasp-karsten/src/core/mpPackage.cc#278:1">Source</a>  </header> <div class="docstring"><pre>Release the write lock. If releasep is true and the current thread holds the shared lock, it is released as well.</pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION MP:PROCESS-ERROR-PROCESS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20MP%3APROCESS-ERROR-PROCESS">PROCESS-ERROR-PROCESS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>  </ul>  <a class="source-link" href="file:///Users/karstenpoeck/lisp/compiler/clasp-karsten/src/lisp/kernel/clos/conditions.lsp#651:0">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION MP:PROCESS-JOIN-ERROR-ORIGINAL-CONDITION"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20MP%3APROCESS-JOIN-ERROR-ORIGINAL-CONDITION">PROCESS-JOIN-ERROR-ORIGINAL-CONDITION</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>  </ul>  <a class="source-link" href="file:///Users/karstenpoeck/lisp/compiler/clasp-karsten/src/lisp/kernel/clos/conditions.lsp#656:0">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition macro callable" id="MACRO-FUNCTION MP:ATOMIC-DECF"> <header> <span class="visibility">EXTERNAL</span> <span class="type">MACRO</span> <h4 class="name"> <a href="#MACRO-FUNCTION%20MP%3AATOMIC-DECF">ATOMIC-DECF</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition macro callable" id="MACRO-FUNCTION MP:ATOMIC-INCF"> <header> <span class="visibility">EXTERNAL</span> <span class="type">MACRO</span> <h4 class="name"> <a href="#MACRO-FUNCTION%20MP%3AATOMIC-INCF">ATOMIC-INCF</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition macro callable" id="MACRO-FUNCTION MP:ATOMIC-UPDATE"> <header> <span class="visibility">EXTERNAL</span> <span class="type">MACRO</span> <h4 class="name"> <a href="#MACRO-FUNCTION%20MP%3AATOMIC-UPDATE">ATOMIC-UPDATE</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition macro callable" id="MACRO-FUNCTION MP:CAS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">MACRO</span> <h4 class="name"> <a href="#MACRO-FUNCTION%20MP%3ACAS">CAS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  </header> <div class="docstring"><pre>(CAS place old new)
Atomically store NEW in PLACE if OLD matches the current value of PLACE.
Matching is as if by EQ.
Returns the previous value of PLACE; if it's EQ to OLD the swap happened.
Only the swap is atomic. Evaluation of PLACE's subforms, OLD, and NEW is
not guaranteed to be in any sense atomic with the swap, and likely won't be.
PLACE must be a CAS-able place. CAS-able places are either symbol macros,
or accessor forms with a CAR of
SYMBOL-VALUE, SYMBOL-PLIST, SVREF, CLOS:STANDARD-INSTANCE-ACCESS, THE,
SLOT-VALUE, CLOS:SLOT-VALUE-USING-CLASS, CAR, CDR, FIRST, REST,
or a macro,
or an accessor defined with DEFINE-CAS-EXPANDER.
Some CAS accessors have additional semantic constraints.
You can see their documentation with e.g. (documentation 'slot-value 'mp:cas)
This is planned to be expanded to include variables,
possibly other simple vectors, and slot accessors.
Experimental.</pre></div> </article> </li>  <li> <article class="definition macro callable" id="MACRO-FUNCTION MP:DEFINE-CAS-EXPANDER"> <header> <span class="visibility">EXTERNAL</span> <span class="type">MACRO</span> <h4 class="name"> <a href="#MACRO-FUNCTION%20MP%3ADEFINE-CAS-EXPANDER">DEFINE-CAS-EXPANDER</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  </header> <div class="docstring"><pre>Analogous to DEFINE-SETF-EXPANDER, defines a CAS expander for ACCESSOR.
The body must return the six values for GET-CAS-EXPANSION.
It is up to you the definer to ensure the swap is performed atomically.
This means you will almost certainly need Clasp's synchronization operators
(e.g., CAS on some other place).

Docstrings are accessible with doc-type MP:CAS.</pre></div> </article> </li>  <li> <article class="definition macro callable" id="MACRO-FUNCTION MP:WITH-INTERRUPTS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">MACRO</span> <h4 class="name"> <a href="#MACRO-FUNCTION%20MP%3AWITH-INTERRUPTS">WITH-INTERRUPTS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  </header> <div class="docstring"><pre>Executes BODY with deferrable interrupts conditionally enabled. If there
are pending interrupts they take effect prior to executing BODY.

As interrupts are normally allowed WITH-INTERRUPTS only makes sense if there
is an outer WITHOUT-INTERRUPTS with a corresponding ALLOW-WITH-INTERRUPTS:
interrupts are not enabled if any outer WITHOUT-INTERRUPTS is not accompanied
by ALLOW-WITH-INTERRUPTS.</pre></div> </article> </li>  <li> <article class="definition macro callable" id="MACRO-FUNCTION MP:WITH-LOCK"> <header> <span class="visibility">EXTERNAL</span> <span class="type">MACRO</span> <h4 class="name"> <a href="#MACRO-FUNCTION%20MP%3AWITH-LOCK">WITH-LOCK</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition macro callable" id="MACRO-FUNCTION MP:WITH-RWLOCK"> <header> <span class="visibility">EXTERNAL</span> <span class="type">MACRO</span> <h4 class="name"> <a href="#MACRO-FUNCTION%20MP%3AWITH-RWLOCK">WITH-RWLOCK</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  </header> <div class="docstring"><pre>Acquire rwlock for the dynamic scope of BODY for operation OP,
which is executed with the lock held by current thread, and
WITH-RWLOCK returns the values of body.

Valid values of argument OP are :READ or :WRITE
(for reader and writer access accordingly).</pre></div> </article> </li>  <li> <article class="definition macro callable" id="MACRO-FUNCTION MP:WITHOUT-INTERRUPTS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">MACRO</span> <h4 class="name"> <a href="#MACRO-FUNCTION%20MP%3AWITHOUT-INTERRUPTS">WITHOUT-INTERRUPTS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  </header> <div class="docstring"><pre>Executes BODY with all deferrable interrupts disabled. Deferrable
interrupts arriving during execution of the BODY take effect after BODY has
been executed.

Deferrable interrupts include most blockable POSIX signals, and
MP:INTERRUPT-THREAD. Does not interfere with garbage collection, and
unlike in many traditional Lisps using userspace threads, in ECL
WITHOUT-INTERRUPTS does not inhibit scheduling of other threads.

Binds ALLOW-WITH-INTERRUPTS, WITH-LOCAL-INTERRUPTS and WITH-RESTORED-INTERRUPTS
as a local macros.

WITH-RESTORED-INTERRUPTS executes the body with interrupts enabled if and only
if the WITHOUT-INTERRUPTS was in an environment in which interrupts were allowed.

ALLOW-WITH-INTERRUPTS allows the WITH-INTERRUPTS to take effect during the
dynamic scope of its body, unless there is an outer WITHOUT-INTERRUPTS without
a corresponding ALLOW-WITH-INTERRUPTS.

WITH-LOCAL-INTERRUPTS executes its body with interrupts enabled provided that
for there is an ALLOW-WITH-INTERRUPTS for every WITHOUT-INTERRUPTS surrounding
the current one. WITH-LOCAL-INTERRUPTS is equivalent to:

  (allow-with-interrupts (with-interrupts ...))

Care must be taken not to let either ALLOW-WITH-INTERRUPTS or
WITH-LOCAL-INTERRUPTS appear in a function that escapes from inside the
WITHOUT-INTERRUPTS in:

  (without-interrupts
    ;; The body of the lambda would be executed with WITH-INTERRUPTS allowed
    ;; regardless of the interrupt policy in effect when it is called.
    (lambda () (allow-with-interrupts ...)))

  (without-interrupts
    ;; The body of the lambda would be executed with interrupts enabled
    ;; regardless of the interrupt policy in effect when it is called.
    (lambda () (with-local-interrupts ...)))
</pre></div> </article> </li> </ul> </article> </li> </ul> </section>  </article> <script>window.addEventListener("DOMContentLoaded", function(){
    var unmarkElement = function(el){
        if(el.tagName === "mark" || el.tagName === "MARK"){
            [].forEach.call(el.childNodes, function(child){
                el.parentNode.insertBefore(child, el);
            });
            el.parentNode.removeChild(el);
        }else if(el.parentNode.tagName === "mark"){
            return unmarkElement(el.parentNode);
        }
        return null;
    }

    var unmarkAll = function(root){
        root = root || document;
        [].forEach.call(root.querySelectorAll("mark"), unmarkElement);
    }
    
    var markElement = function(el){
        if(el.parentNode.tagName === "mark" || el.parentNode.tagName === "MARK"){
            return el.parentNode;
        } else {
            unmarkAll();
            var marked = document.createElement("mark");
            el.parentNode.insertBefore(marked, el);
            marked.appendChild(el);
            return marked;
        }
    }

    var markFragmented = function(){
        if(window.location.hash){
            var el = document.getElementById(decodeURIComponent(window.location.hash.substr(1)));
            if(el) markElement(el);
        }
    }

    var registerXrefLink = function(link){
        var el = document.getElementById(decodeURIComponent(link.getAttribute("href").substr(1)));
        if(el){
            link.addEventListener("click", function(){
                markElement(el);
            });
        }
    }

    var registerXrefLinks = function(root){
        root = root || document;
        [].forEach.call(root.querySelectorAll("a.xref"), registerXrefLink);
    }

    markFragmented();
    registerXrefLinks();
}); </script> </body> </html> 